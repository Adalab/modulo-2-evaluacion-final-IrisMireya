{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\r\n//Constantes\r\nconst text = document.querySelector('.js-text');\r\nconst searchBtn = document.querySelector('.js-searchbutton');\r\nconst btnReset = document.querySelector('.js-reset');\r\nconst urlServer = \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";\r\nconst drinkList = document.querySelector('.js-list');\r\nconst favList = document.querySelector('.js-fav');\r\nconst favouritesDrinks = window.localStorage.getItem('drinks') ? JSON.parse(window.localStorage.getItem('drinks')) : []\r\n\r\n//botón de búsqueda para encontrar la bebida deseada\r\nsearchBtn.addEventListener('click', (event)=>{\r\n    event.preventDefault();\r\n    fetch(urlServer + text.value)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        let html = '';\r\n        for (const item of data.drinks) {\r\n            html += `<li class =\"drinks js-drinks\" id=${item.idDrink}>`\r\n            html += `<div><div>${item.strDrink}</div>` \r\n                if (item.strDrinkThumb) {\r\n                    html += `<img src=\"${item.strDrinkThumb}\" width=\"80px\"/>`\r\n                } else {\r\n                    html += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=drink\" width=\"80px\"/>`    \r\n                }\r\n            html += `</div></li>`; \r\n        }\r\n        drinkList.innerHTML = html;\r\n    //seleccionar bebidas favoritas\r\n        const drinkSelection = document.querySelectorAll('.js-drinks');\r\n        for (const item of drinkSelection) {\r\n            item.addEventListener('click', (event)=>{\r\n            const drinkSelect = event.currentTarget;\r\n            drinkSelect.className += \" favourite \"\r\n            const drinkInformation = data.drinks.filter((drink)=>{\r\n            if (drink.idDrink === drinkSelect.id) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n            })\r\n\r\n    //añadir bebida favorita a lista favoritos\r\n\r\n            const favouritesDrinks = window.localStorage.getItem('drinks') ? JSON.parse(window.localStorage.getItem('drinks')) : []\r\n\r\n            favouritesDrinks.push(drinkInformation[0])\r\n                window.localStorage.setItem('drinks', JSON.stringify(favouritesDrinks))\r\n                \r\n                for (let cont=0;cont<favouritesDrinks.length;cont++){\r\n                    for (let cont1=1; cont1 < favouritesDrinks.length-1; cont1++) \r\n                    {\r\n                    }\r\n                    const l = favouritesDrinks[cont].strDrink;\r\n                    favList.innerHTML += `<li class =\"fav js-fav\" id=${favouritesDrinks[cont].strDrink}>`\r\n                    if (favouritesDrinks[cont].strDrinkThumb) {\r\n                    favList.innerHTML += `<div><div><button class=\"delete__button js-delete\">\r\n                        <img src=\"../assets/images/cancel.png\">\r\n                  </button>\r\n                  ${favouritesDrinks[cont].strDrink}<br><img src=\"${favouritesDrinks[cont].strDrinkThumb}\" width=\"80px\"/></div>`\r\n                    }   \r\n                    else {\r\n                        html += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=drink\" width=\"80px\"/>`  //no puedo comprobar que la imagen se aplique bien\r\n                    }\r\n                }\r\n\r\n                //funcion eliminar individualmente\r\n                \r\n                const btnDel = document.querySelector('.js-delete');\r\n                btnDel.addEventListener('click',(delInd) => {\r\n                console.log(\"borrar\");\r\n\r\n                });\r\n            });\r\n        }\r\n        }\r\n    ).catch(\r\n        function (error){\r\n            if(error){\r\n                alert(\"¡No hay lo que tu pides mami!\");\r\n            }\r\n        }\r\n    );\r\n});\r\n\r\n//funcion eliminar lista favoritos por recarga\r\n    btnReset.addEventListener('click', (del)=>{\r\n        //del.preventDefault();\r\n            //if (favouritesDrinks !== null) {\r\n                while(favouritesDrinks.length > 0) {\r\n                //console.log(favouritesDrinks.length);\r\n                favouritesDrinks.length = 0;\r\n                //console.log(favouritesDrinks.length, \"pop\");\r\n                window.localStorage.clear();\r\n                //console.log(favouritesDrinks.length, \"clear\");\r\n                favList.innerHTML = \"\";\r\n                //console.log(favouritesDrinks,\"algo\");\r\n                //}\r\n            }\r\n });\r\n\r\n"]}