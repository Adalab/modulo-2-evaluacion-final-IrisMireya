{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\r\n//Constantes\r\nconst text = document.querySelector(\".js-text\");\r\nconst searchBtn = document.querySelector(\".js-searchbutton\");\r\nconst btnReset = document.querySelector(\".js-reset\");\r\nconst btnLog = document.querySelector(\".js-log\");\r\nconst urlServer = \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";\r\nconst drinkList = document.querySelector(\".js-list\");\r\nconst favList = document.querySelector(\".js-fav\");\r\nlet favouritesDrinks = window.localStorage.getItem(\"drinks\")\r\n  ? JSON.parse(window.localStorage.getItem(\"drinks\"))\r\n  : [];\r\n\r\n//botón de búsqueda para encontrar la bebida deseada\r\n\r\nsearchBtn.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  fetch(urlServer + text.value)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      let html = \"\";\r\n      for (const item of data.drinks) {\r\n        html += `<li class =\"drinks js-drinks\" id=${item.idDrink}>`;\r\n        html += `<div><div>${item.strDrink}</div>`;\r\n        html += `<div>${item.strIngredient1}${item.strIngredient2}${item.strIngredient3}</div>`;\r\n        if (item.strIngredient4) {\r\n          html += `<div>${item.strIngredient4}</div>`;\r\n        }\r\n        if (item.strDrinkThumb) {\r\n          html += `<img src=\"${item.strDrinkThumb}\" width=\"80px\"/>`;\r\n        }\r\n        else {\r\n          html += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=drink\" width=\"80px\"/>`;\r\n        }\r\n        html += `</div></li>`;\r\n      }\r\n      drinkList.innerHTML = html;\r\n\r\n      //seleccionar bebidas favoritas\r\n\r\n      const drinkSelection = document.querySelectorAll(\".js-drinks\");\r\n      for (const item of drinkSelection) {\r\n        item.addEventListener(\"click\", (event) => {\r\n          const drinkSelect = event.currentTarget;\r\n          drinkSelect.className += \" favourite \";\r\n          const drinkInformation = data.drinks.find((drink) => {\r\n            if (drink.idDrink === drinkSelect.id) {\r\n              return drink;\r\n            }\r\n          });\r\n\r\n          favouritesDrinks.push(drinkInformation);\r\n          localStorage.setItem(\"drinks\", JSON.stringify(favouritesDrinks)\r\n          );\r\n\r\n          const newFav = `<li class =\"fav js-fav\" id=${drinkInformation.strDrink}><div><div><button class=\"delete__button js-delete\">\r\n          <img src=\"./assets/images/cancel.png\">\r\n          </button>  ${drinkInformation.strDrink}<br><img src=\"${drinkInformation.strDrinkThumb}\" width=\"80px\"/></div></li>`;\r\n          favList.innerHTML += newFav;\r\n\r\n          //funcion eliminar individualmente\r\n\r\n          const btnDel = document.querySelector(\".js-delete\");\r\n          btnDel.addEventListener(\"click\", (delInd) => {\r\n          });\r\n        });\r\n      }\r\n     \r\n    })\r\n    .catch(function (error) {\r\n      if (error) {\r\n        alert(\"¡No hay lo que tu pides mami!\");\r\n      }\r\n    });    \r\n});\r\n\r\n//funcion eliminar lista favoritos por recarga\r\n\r\nbtnReset.addEventListener(\"click\", (del) => {\r\n  del.preventDefault();\r\n  if (favouritesDrinks.length > 0) {\r\n    favList.innerHTML = \"\";\r\n    favouritesDrinks =[];\r\n    localStorage.removeItem(\"drinks\");\r\n  }\r\n});\r\n\r\n//Botón log\r\n\r\nbtnLog.addEventListener(\"click\", (add) => {\r\n  let html = '';\r\n  html += `<p>Tienes${favouritesDrinks.length}favoritos</p>`;\r\n  console.log(html);\r\n});"]}